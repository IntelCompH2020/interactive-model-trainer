
<div class="row align-items-center" style="min-height: 7rem; padding-right: 2rem;">
    <div class="col-auto">
        <h4>
            {{'APP.CORPUS-COMPONENT.LOGICAL-CORPUS-LISTING-COMPONENT.FILTER-TITLE' | translate}}
        </h4>
    </div>

    <form [formGroup]="likeFilterFormGroup" class="col padding-margin-none">
        <mat-form-field appearance="outline" class="padding-margin-none w-100">
            <mat-icon matPrefix class="search-icon-search-bar">search</mat-icon>
            <input type="search" [placeholder]="'APP.CORPUS-COMPONENT.LOGICAL-CORPUS-LISTING-COMPONENT.SEARCH-PLACEHOLDER' | translate" matInput formControlName="like">
        </mat-form-field>
    </form>

    <div class="col-auto" *ngIf="items_loading">
        <mat-spinner color="accent" diameter="20"></mat-spinner>
    </div>

    <div class="col-auto">
        <button mat-button [matMenuTriggerFor]="menu" class="background-gray">
            <mat-icon>
                filter_alt
            </mat-icon>
            <span>
                {{'APP.CORPUS-COMPONENT.LOGICAL-CORPUS-LISTING-COMPONENT.FILTER' | translate}}
            </span>
            <mat-icon>
                arrow_drop_down
            </mat-icon>
        </button>

        <mat-menu #menu="matMenu">
            <ng-template matMenuContent>
                <div (click)="$event.stopPropagation();" class="filters-container pl-4 pr-4 pt-2 pt-1">
                    <app-filter-editor [filterFormGroup]="filterFormGroup" [config]="filterEditorConfiguration"></app-filter-editor>
                </div>
            </ng-template>
        </mat-menu>
    </div> 
    <div class="col-auto">
        <button mat-raised-button [matMenuTriggerFor]="addKeywordsMenu" color="accent">
            {{'APP.CORPUS-COMPONENT.LOGICAL-CORPUS-LISTING-COMPONENT.ADD-NEW' | translate}}
            <mat-icon>
                arrow_drop_down
            </mat-icon>
        </button>

        <mat-menu #addKeywordsMenu="matMenu">        
            <button mat-menu-item (click)="addNewCorpusManually()">{{'APP.CORPUS-COMPONENT.LOGICAL-CORPUS-LISTING-COMPONENT.ADD-NEW-MANUALLY' | translate}}</button>        
            <button mat-menu-item (click)="addNewCorpusFromFile()">{{'APP.CORPUS-COMPONENT.LOGICAL-CORPUS-LISTING-COMPONENT.ADD-NEW-FROM-FILE' | translate}}</button>
        </mat-menu>

    </div>
</div>

<app-listing [selectionType]="SelectionType.single" (rowActivated)="onRowActivated($event)" [rows]="gridRows" [columns]="gridColumns" [visibleColumns]="visibleColumns" [count]="totalElements" (pageLoad)="alterPage($event)" (columnSort)="onColumnSort($event)" (columnsChanged)="onColumnsChanged($event)" ></app-listing>