<div class="col-12 pt-3" [formGroup]="formGroup">
    <div class="row">
        <div class="col-auto">
            <mat-form-field appearance="outline">
                <input formControlName="name" type="text" matInput [placeholder]="'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.NAME-PLACEHOLDER' | translate">
                <mat-error>{{'COMMONS.VALIDATION.REQUIRED' | translate}}</mat-error>
            </mat-form-field>
        </div>
    </div>
    
    <div class="row">
        <div class="col-12 table-container">
            <table class="table text-center">
                <thead class="table-head-gray">
                    <tr>
                        <th class="td-border-right">{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.TABLE.FILE' | translate}}</th>
                        <th>{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.TABLE.FIELD' | translate}}</th>
                        <th>{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.TABLE.TYPE' | translate}}</th>
                        <th>{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.TABLE.SELECT-FIELDS' | translate}}</th>
                    </tr>
                </thead>
                <tbody class="bg-white">

                    <tr *ngFor="let field of fieldsArray?.controls; let first = first">

                        <td style="vertical-align: middle;" class="td-border-right" [attr.rowspan]="corpusConfig.fields.length" *ngIf="first">
                            {{corpusConfig.name}}
                        </td>

                        <td>
                            {{field.value.name}}
                        </td>
                        <td>
                            {{field.value.type}}
                        </td>
                        <td>
                            <mat-checkbox #checkbox [formControl]="field.get('selected')" (change)="onFieldSelection(checkbox.checked)"></mat-checkbox>
                        </td>

                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="row align-items-center mt-2">
        <div class="col-auto">
            <button mat-stroked-button (click)="fileInput.click()">{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.LOAD-FILE' | translate}}</button>
        </div>
        <input #fileInput type="file" hidden (change)="onFileSelected($event.target.files)">
        <div class="col-auto">
            <mat-form-field appearance="outline" class="padding-margin-none">
                <input type="text" matInput readonly>
            </mat-form-field>
        </div>
    </div>

    <div class="row">
        <div class="col-auto">
            <mat-checkbox formControlName="private">{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.PRIVATE' | translate}}</mat-checkbox>
        </div>
    </div>


    <div class="row justify-content-end">
        <div class="col-auto">
            <button mat-button (click)="close()">{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.CANCEL' | translate}}</button>
        </div>
        <div class="col-auto">
            <button mat-raised-button color="accent" (click)="upload()">{{'APP.CORPUS-COMPONENT.RAW-CORPUS-LISTING-COMPONENT.NEW-CORPUS-DIALOG.SUBMIT' | translate}}</button>
        </div>
    </div>
</div>
